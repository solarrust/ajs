<!DOCTYPE html>
<html lang="ru">
<head>
	<title>Стандарты и версии</title>
	<meta charset="utf-8">
	<link rel="shortcut icon" href="../i/favicon.ico" type="image/x-icon">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../node_modules/shower-ribbon/styles/screen-4x3.css">
	<link rel="stylesheet" href="../css/prism.css">
	<link rel="stylesheet" href="../css/prism-fix.css">
	<link rel="stylesheet" href="../css/netology.css">
	<link rel="stylesheet" href="../css/fake-browser.css">
</head>
<body class="shower">
<header class="caption">
	<h1>Стандарты и версии</h1>
	<p>Денис Ежков</p>
</header>

<section class="slide" id="cover">
	<h2>Стандарты и версии</h2>
	<p>
		<img src="../i/ezhkov.jpg" alt="" class="avatar">
		Денис Ежков
	</p>
</section>

<section class="slide author" id="author">
	<img src="../i/ezhkov.jpg" alt="">
	<h1>Денис Ежков</h1>
	<p class="position">Frontend-разработчик в «Ростелеком IT»</p>
	<ul class="contacts">
		<li><a href="skype:aka_SKIff"><i class="fa fa-skype" aria-hidden="true"></i>aka_SKIff</a></li>
		<li><a href="https://facebook.com/ezhkov"><i class="fa fa-facebook" aria-hidden="true"></i>facebook.com/ezhkov</a></li>
		<li><a href="https://t.me/ezhkov"><i class="fa fa-skype" aria-hidden="true"></i>@ezhkov</a></li>
	</ul>
</section>

<section class="slide" id="roadmap">
	<h2>План занятия</h2>
	<ol>
		<li><a href="#changes">Редакции и стандарты: основные изменения в версиях ES5-ES9</a></li>
		<li><a href="#es5">ES5: <code>var</code>, ES6: <code>let</code>, <code>const</code></a></li>
		<li><a href="#syntax">Синтаксис функций в привязке к стандартам ES5 / ES6</a></li>
		<li><a href="#forof">ES6: перебор итерируемых объектов с помощью <code>for...of</code></a></li>
		<li><a href="#pattern">ES6: тегированные шаблонные строки</a></li>
	</ol>
</section>

<section class="slide chapter" id="changes">
	<h2>Редакции и стандарты: основные изменения в версиях ES5-ES9</h2>
</section>

<section class="slide">
	<h2>Зачем это знать?</h2>
	<ul>
		<li>Точно знать какие именно возможности JavaScript можно использовать в конкретном проекте.</li>
		<li>Использовать новейшую версию языка, предоставляющую больше возможностей и содержащую меньше недостатков в дизайне языка.</li>
	</ul>
</section>

<section class="slide">
	<h2>Как использовать?</h2>
	<p>Чтобы все самые крутые фишки новых станартов были доступны можно использовать, например, транспайлер. Самый популярный транспайлер на сегодняшний день — <a
			href="https://babeljs.io">Babel</a>*.</p>
	<figure>
		<img src="../pic/standards/babel.png" alt="">
	</figure>
	<p class="note">* Рассмотрим на следующей лекции.</p>
</section>

<section class="slide">
	<h2>Редакции, стандарты, версии...?</h2>
	<ol>
		<li>Ecma International — организация, которая создает стандарты для технологий.</li>
		<li><b>ECMA-262</b> — это <b>стандарт</b>, изданный Ecma International (в нём прописана спецификация скриптового языка общего назначения).</li>
		<li><b>ECMA-262</b> можно считать учётным номером <b>ECMAScript</b>.</li>
		<li><b>ES1-ES9</b> — это <b>редакции (версии)</b> стандарта ECMA-262.</li>
	</ol>
	<p>ECMAScript — стандарт, а JavaScript — самая популярная реализация этого стандарта.</p>
</section>

<section class="slide">
	<h2>Версии ECMAScript</h2>
	<ul>
		<li><b>ES1</b>: 1997</li>
		<li><b>ES2</b>: Июнь 1998</li>
		<li><b>ES3</b>: Декабрь 1999</li>
		<li><b>ES4</b>: так и не была принята</li>
		<li><b>ES5</b>: Декабрь 2009</li>
		<li>ES6 === ES2015</li>
		<li>ES7 === ES2016</li>
		<li>ES8 === ES2017</li>
		<li>ES9 === ES2018</li>
	</ul>
</section>

<section class="slide">
	<h2>ES5</h2>
	<ul>
		<li>Strict mode — специальная директива <code>"use strict"</code> указывается для перевода кода в режим полного соответствия ES5 (с отсутствием полной обратной совместимости);</li>
		<li>объект <code>JSON</code> с методами <code>parse</code>, <code>stringify</code>;</li>
		<li>новые методы <code>Array</code> (<code>indexOf</code>, <code>lastIndexOf</code>, <code>forEach</code>, <code>map</code>, <code>filter</code>, <code>reduce</code>);</li>
		<li>новые методы <code>Object</code> и др.</li>
	</ul>
</section>

<section class="slide">
	<h2>ES6 / ES2015</h2>
	<ul>
		<li><code>let</code>, <code>const</code>;</li>
		<li>стрелочные функции;</li>
		<li>параметры по умолчанию;</li>
		<li><code>spread</code> / <code>rest</code> оператор;</li>
		<li>деструктуризация массивов и объектов;</li>
		<li>тегированные шаблонные строки;</li>
		<li>итераторы и генераторы;</li>
		<li><code>Promise</code>;</li>
		<li>новый синтаксис для классов;</li>
		<li>тип данных <code>Symbol</code>;</li>
		<li>контейнерные типы: <code>Map</code>, <code>WeakMap</code>, <code>Set</code>, <code>WeakSet</code>.</li>
	</ul>
</section>

<section class="slide">
	<h2>ES7 / ES2016</h2>
	<ul>
		<li>Метод <code>includes</code> для класса <code>Array</code>;</li>
		<li>оператор для возведения в степень <code>**</code> (вместо <code>Math.pow</code>).</li>
	</ul>
</section>

<section class="slide">
	<h2>ES8 / ES2017</h2>
	<ul>
		<li>Конструкция <code>async</code> / <code>await</code>;</li>
		<li><code>Object.values()</code> - функция, которая возвращает все значения собственных свойств объекта, исключая любые значения в цепочке прототипов;</li>
		<li><code>Object.entries()</code> - метод, который возвращает ключи в виде массива в формате <code>[key, value]</code>;</li>
		<li>дополнение строк до заданной длины: <code>String.prototype.padStart()</code> / <code>String.prototype.padEnd()</code>.</li>
	</ul>
</section>

<section class="slide">
	<h2>ES9 / ES2018</h2>
	<ul>
		<li>Разделяемая память и атомарные операции;</li>
		<li><code>Promise.prototype.finally()</code>;</li>
		<li><code>for-await-of</code> для создания циклов, работающих с асинхронным кодом;</li>
		<li>устранение некоторых ограничений тегированных шаблонных строк;</li>
		<li>некоторые новые возможности работы с регулярными выражениями.</li>
	</ul>
</section>

<section class="slide">
	<h2>ES.Next</h2>
	<ul>
		<li>Динамический указатель на последнюю, еще находящуюся в разработке версию ECMAScript.</li>
	</ul>
</section>

<section class="slide">
	<h2>Где узнать поддержку?</h2>
	<ul>
		<li><a href="https://caniuse.com">https://caniuse.com</a></li>
		<li><a href="https://developer.mozilla.org">https://developer.mozilla.org</a></li>
	</ul>
	<figure><img src="../pic/standards/caniuse.png" alt="">
		<figcaption>Поддержка стрелочных функций в браузерах, сайт caniuse.com</figcaption>
	</figure>
</section>

<section class="slide">
	<h2>На какой версии языка писать?</h2>
	<p><b>ES6+</b></p>
	<p>Возможности ES6 поддерживаются последними версиями практически всех браузеров (при необходимости использовать Babel).</p>
</section>

<section class="slide">
	<h2>Поддержка возможностей ES6+</h2>
	<p>Поддержка браузерами определенных возможностей: <a href="https://kangax.github.io/compat-table/es6/">https://kangax.github.io/compat-table/es6/</a></p>
	<figure><img src="../pic/standards/kangax.png" alt="">
	</figure>
</section>

<section class="slide chapter" id="es5">
	<h2>ES5: <code>var</code>, <br><br>ES6: <code>let</code>, <code>const</code></h2>
</section>

<section class="slide">
	<h2>Объявление переменных. ES5</h2>
	<p>В стандарте ES5 переменную можно было объявить только одним способом:</p>
	<pre>
		<code class="lang-js">
			var a = 10;
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Объявление переменных. ES6</h2>
	<p>В стандарте ES6 объявить переменные можно как <code>const</code> или <code>let</code>:</p>
	<pre>
		<code class="lang-js">
			const a = 10;
			let a = 10;
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Чем отличаются <code>const</code> от <code>let</code>?</h2>
	<p>Варианты ответа:</p>
	<ol>
		<li>Функция не может быть объявлена как <code>const</code>.</li>
		<li><code>const</code>, в отличие от <code>let</code>, создает неизменяемую переменную.</li>
		<li>Имеют разные области видимости.</li>
		<li>Переменные, объявленные как <code>const</code>, обязательно должны иметь быть названы верхнем регистре.</li>
	</ol>
</section>

<section class="slide">
	<h2><code>const</code></h2>
	<p><code>const</code> используют для объявления «констант», которые не будут в дальнейшем изменяться:</p>
	<pre class="line-numbers">
		<code class="lang-js">
			const numberOfDays = 31;
			//Uncaught TypeError: Assignment to constant variable
			numberOfDays = 28;
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Нельзя переопределить</h2>
	<p>Переопределение объекта запрещено:</p>
	<pre class="line-numbers">
		<code class="lang-js">
			const numberOfDaysInMonths = {
				November: 30,
				December: 31,
			};

			//Uncaught TypeError: Assignment to constant variable
			numberOfDaysInMonths = {
				November: 30,
			};
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Можем изменить или добавить свойство</h2>
	<p>Но можем изменить какое-то свойство или добавить новое:</p>
	<pre class="">
		<code class="lang-js">
			numberOfDaysInMonths.January = 31;
			console.log(numberOfDaysInMonths.January); // 31
		</code>
	</pre>
</section>

<section class="slide">
	<h2><code>const</code> с массивами</h2>
	<pre class="line-numbers">
		<code class="lang-js">
			const numberOfDaysInMonths = [
				31, 28, 31, 30, 31, 30,
				31, 31, 30, 31, 30, 31,
			];

			//Uncaught TypeError: Assignment to constant variable
			numberOfDaysInMonths = [31, 28, 31];
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Вопрос</h2>
	<p>Что будет выведено в стр. 3?</p>
	<pre class="line-numbers">
		<code class="lang-js">
			const numbersArray = [1, 2, 3, 4, 5];
			numbersArray[0] = 10;
			console.log(numbersArray);
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Отличия <code>var</code> от <code>let</code> / <code>const</code></h2>
	<p><b>Область видимости</b></p>
	<ul>
		<li>Переменная, объявленная как <code>var</code>, доступна в функции, в которой объявлена.</li>
		<li>Переменная, объявленная как <code>let</code>, доступна только в рамках блока <code>{...}</code>, в котором объявлена. В качестве блока могут выступать: функции, <code>if</code>, <code>while</code> или <code>for</code> и др.</li>
	</ul>
</section>

<section class="slide">
	<h2>Вопрос</h2>
	<p>Что будет выведено (стр. 5, 7)?</p>
	<pre class="line-numbers">
		<code class="lang-js">
			var isExamPassed = false;
			var isGoodStudent = true;
			if (isGoodStudent) {
				var isExamPassed = true;
				console.log(isExamPassed); // ?
			}
			console.log(isExamPassed); // ?
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Ответ</h2>
	<pre class="line-numbers">
		<code class="lang-js">
			var isExamPassed = false;
			var isGoodStudent = true;
			if (isGoodStudent) {
				var isExamPassed = true;
				console.log(isExamPassed); // true
			}
			console.log(isExamPassed); // true
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Вопрос</h2>
	<p>Что будет выведено в этом случае?</p>
	<pre class="line-numbers">
		<code class="lang-js">
			let isExamPassed = false;
			let isGoodStudent = true;
			if (isGoodStudent) {
				let isExamPassed = true;
				console.log(isExamPassed); // ?
			}
			console.log(isExamPassed); // ?
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Ответ</h2>
	<pre class="line-numbers">
		<code class="lang-js">
			let isExamPassed = false;
			let isGoodStudent = true;
			if (isGoodStudent) {
				let isExamPassed = true;
				console.log(isExamPassed); // true
			}
			console.log(isExamPassed); // false
		</code>
	</pre>
</section>

<section class="slide">
	<h2><code>let</code> в цикле</h2>
	<p>Для каждой итерации создаётся своя переменная. Сравним:</p>
	<pre class="line-numbers">
		<code class="lang-js">
			// выведет цифры от 0 до 9
			for (let i = 0; i < 10; i++){
				setTimeout(() => console.log(i), 1000)
			}

			// выведет 10 раз цифру 10
			for (var i = 0; i < 10; i++){
				setTimeout(() => console.log(i), 1000)
			}
		</code>
	</pre>
</section>

<section class="slide chapter" id="syntax">
	<h2>Синтаксис функций в привязке к стандартам ES5 / ES6</h2>
</section>

<section class="slide">
	<h2>Синтаксис функций в ES5</h2>
	<p>В ES5 функцию можно объявить следующим образом:</p>
	<pre class="line-numbers">
		<code class="lang-js">
			// объявление функции (Function Declaration)
			function multiply(a, b) {
				return a * b;
			}

			// функциональное выражение (Function Expression)
			var multiply = function(a, b) {
				return a * b;
			}
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Стрелочные функции в ES6</h2>
	<p>В ES6 появляются стрелочные функции:</p>
	<pre class="line-numbers">
		<code class="lang-js">
			// примерный аналог объявления функции  выше
			const multiply = (a, b) => {
				return a * b;
			};

			// аналог предыдущей функции,
			// но return опущен (т.к. подразумевается неявно):
			const multiply = (a, b) => a * b;
			// можно добавить скобки для читабельности: (a * b)
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Решение проблем</h2>
	<p>Стрелочные функции позволяют использовать более короткий синтаксис при объявлении и, кроме того, решают проблему <a
			href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Отсутствие_связывания_с_this">потерянного this</a>.</p>
</section>

<section class="slide">
	<h2>ES6: параметры по умолчанию</h2>
	<pre class="line-numbers">
		<code class="lang-js">
			// ES5
			var getTitle = (title) {
				title = title || 'Безымянный';
				console.log(title);
			};

			// ES6
			const getTitle = (title = 'Безымянный') => {
				// …
				console.log(title);
			};
		</code>
	</pre>
</section>

<section class="slide">
	<h2>ES6: деструктуризация в параметрах</h2>
	<p>Пользователь кликает на какой-то элемент и функции-обработчику событий <code>onClick</code> приходит объект <code>event</code>:</p>
	<pre class="line-numbers">
		<code class="lang-js">
			// ES5
			var onClick2 = function(event) {
				console.log(event.target, event.type);
			}

			// ES6

			// event = { target: {...}, type: '...', ... }
			const onClick = ({ target, type }) => {
				console.log(target, type);
			}
		</code>
	</pre>
</section>

<section class="slide">
	<h2>ES6: оператор spread (...rest)</h2>
	<p>Получение массива аргументов при помощи оператора spread (...rest):</p>
	<pre class="line-numbers">
		<code class="lang-js">
			const multiply = (multiplier, ...args) => args.map(
				element => multiplier * element,
			);

			console.log(multiply(2, 1, 2, 3)); // [2, 4, 6]
		</code>
	</pre>
</section>

<section class="slide">
	<h2>В чём разница?</h2>
	<p>Разница между стрелочными и классическими функциями в том, что стрелочные функции не имеют своего <code>this</code> и <code>arguments</code> (получают из окружающего контекста):</p>
	<pre class="line-numbers">
		<code class="lang-js">
			const group = {
				groupNumber: 1,
				students: ['Иванов', 'Петров', 'Сидоров'],
				showList() {
					this.students.forEach(student =>
						console.log(
							'Группа: ' + this.groupNumber +
							', ' + student
						)
					);
				}
			}
		</code>
	</pre>
</section>

<section class="slide chapter" id="forof">
	<h2>ES6: перебор итерируемых объектов с помощью <code>for...of</code></h2>
</section>

<section class="slide">
	<h2>Итерируемые объекты</h2>
	<p>ES6 добавлены «итерируемые» (iterable) объекты, чьё содержимое можно перебрать в цикле (массивы, строки, Map, Set, DOM-коллекции и т.д.).</p>
</section>

<section class="slide">
	<h2>ES5: перебирем массив</h2>
	<pre class="line-numbers">
		<code class="lang-js">
			let numbersAr = [10, 20, 30];

			var double = function() { // только для массивов
				numbersAr.forEach(function(value){
					console.log(value);
				});
			};

			var double2 = function() {
				for (var i = 0; i < numbersAr.length; i++) {
				console.log(numbersAr[i] * 2);
				}
			};
		</code>
	</pre>
</section>

<section class="slide">
	<h2>ES6: перебирем массив</h2>
	<pre class="line-numbers">
		<code class="lang-js">
			let numbersAr = [10, 20, 30];

			const double = () => {
				for (let value of numbersAr) {
					console.log(value * 2);
					// выведет построчно 20, 40, 60
				}
			};
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Переберём строку</h2>
	<pre class="line-numbers">
		<code class="lang-js">
			for (let char of 'лекция') {
				console.log(char.toUpperCase());
				// выведет Л, Е, К, Ц, И, Я
			}
		</code>
	</pre>
</section>


<section class="slide chapter" id="pattern">
	<h2>ES6: тегированные шаблонные строки</h2>
</section>

<section class="slide">
	<h2>Шаблонные строки</h2>
	<p>Для начала вспомним что такое шаблонные строки (ES6):</p>
	<pre class="line-numbers">
		<code class="lang-js">
			//ES5
			const a = 5;
			const b = 10;
			console.log(
				'Сумма: ' + (a + b) + ', разность: ' + (a - b)
			);

			//ES6
			console.log(`Сумма: ${a + b}, разность: ${a - b}`);
		</code>
	</pre>
	<p>Помимо того, что это легче читается, уходит путаница с приведением типов с оператором <code>+</code>.</p>
</section>

<section class="slide">
	<h2>Задача</h2>
	<p>По количеству баллов, которые студент получил за тест, вывести его оценку в формате: <code>Студент [Фамилия] получил оценку [N]</code>.</p>
</section>

<section class="slide">
	<h2>Решение: функция</h2>
	<pre class="line-numbers fz22">
		<code class="lang-js">
			const formatMark = (strings, person, numberOfPoints) => {
				const student = strings[0]; // Студент
				const points = strings[1]; // получил оценку
				let mark;
				if (numberOfPoints <= 60) {
					mark = '2';
				} else if (numberOfPoints > 61 && numberOfPoints <= 75) {
					mark = '3';
				} else if (numberOfPoints > 76 && numberOfPoints <= 85) {
					mark = '4';
				} else if (numberOfPoints > 86) {
					mark = '5';
				}
				return `${student}${person}${points}${mark}`;
			}
		</code>
	</pre>
</section>

<section class="slide">
	<h2>Решение: вывод в консоль</h2>
	<pre class="line-numbers fz17">
		<code class="lang-js">
			const person = 'В. Пупкин';
			const numberOfPoints = 85;
			const output = formatMark`Студент ${person} получил оценку ${numberOfPoints}`;
			console.log(output); // Студент В. Пупкин получил оценку 4
		</code>
	</pre>
</section>

<section class="slide chapter">
	<h2>Итоги</h2>
</section>

<section class="slide">
	<h2>Чему мы научились</h2>
	<ul>
		<li>Узнали зачем нужны стандарты JavaScript, основные изменения в версиях ES5-ES9, как узнать поддерживает ли браузер ту или иную новую возможность JavaScript и как использовать свежие возможности.</li>
		<li>Как объявить переменную при помощи <code>var</code>, <code>let</code>, <code>const</code>, и в чём разница.</li>
		<li>Повторили как объявлять функции в ES5 и стрелочные функции в ES6.</li>
		<li>Как перебирать итерируемые объекты с помощью <code>for...of</code> (ES6).</li>
		<li>Как использовать тегированные шаблонные строки (ES6).</li>
	</ul>
</section>

<section class="slide">
	<h2>Полезные ссылки</h2>
	<ul>
		<li><a href="https://ru.wikipedia.org/wiki/Консорциум_Всемирной_паутины">Википедия: Консорциум Всемирной паутины</a></li>
		<li><a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Functions">MDN Web Docs: Функции</a></li>
		<li><a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/template_strings">MDN Web Docs: Шаблонные строки</a></li>
	</ul>
</section>

<section class="slide last">
	<p class="thanx">Задавайте вопросы и напишите отзыв о лекции!</p>
	<address>Денис Ежков</address>
	<ul class="contacts">
		<li><a href="skype:aka_SKIff"><i class="fa fa-skype" aria-hidden="true"></i>aka_SKIff</a></li>
		<li><a href="https://facebook.com/ezhkov"><i class="fa fa-facebook" aria-hidden="true"></i>facebook.com/ezhkov</a></li>
		<li><a href="https://t.me/ezhkov"><i class="fa fa-skype" aria-hidden="true"></i>@ezhkov</a></li>
	</ul>
</section>


<div class="progress"></div>
<script src="../node_modules/shower-core/shower.min.js"></script>
<script src="../js/prism.js?v=2"></script>
<script src="https://use.fontawesome.com/8c6816e790.js"></script>
</body>
</html>
